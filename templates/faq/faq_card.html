<div class="faq-card bg-gray-800 rounded-xl shadow-lg p-6 border border-gray-700 mb-6">
  <div class="flex flex-wrap justify-between items-center">
    <div class="flex flex-col gap-1">
      <!-- ì¹´í…Œê³ ë¦¬ì™€ êµ¬ì—­ ì •ë³´ -->
      <div class="flex gap-3 text-sm text-gray-400">
        <span>ğŸ“‚ {{ faq.category }}</span>
        <span>ğŸ“ {{ faq.area }}</span>
      </div>
      <!-- ì§ˆë¬¸ -->
      <div class="flex items-center gap-2">
        <span class="faq-toggle-icon text-purple-400">â–¶</span>
        <h3 class="text-lg font-bold text-white break-words">Q. {{ faq.question }}</h3>
      </div>
    </div>

    <!-- ì¦ê²¨ì°¾ê¸° + ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ -->
    <div class="flex items-center gap-3 mt-4 sm:mt-0">
      <span title="ì¦ê²¨ì°¾ê¸°" class="text-lg cursor-pointer text-yellow-400">â­</span>
      {% if user.is_authenticated %}
      <a href="{% url 'faq:edit_faq' faq.id %}?{{ request.GET.urlencode }}" title="ìˆ˜ì •"
         class="text-purple-400 hover:text-purple-500 text-lg">âœï¸</a>
      <form method="post" action="{% url 'faq:delete_faq' faq.id %}?{{ request.GET.urlencode }}" style="display: inline;">
        {% csrf_token %}
        <button type="submit" title="ì‚­ì œ" class="text-red-400 hover:text-red-500 text-lg">ğŸ—‘ï¸</button>
      </form>
      {% endif %}
    </div>
  </div>

  <!-- ë‹µë³€ -->
  <div class="faq-answer mt-4 hidden text-gray-300">
    <p class="leading-relaxed">{{ faq.answer|safe }}</p>
    {% if faq.image %}
    <div class="mt-4">
      <img src="{{ faq.image.url }}" alt="FAQ ì´ë¯¸ì§€" class="max-w-full rounded-lg">
    </div>
    {% endif %}
  </div>

  <!-- ìƒì„±ì¼ì, ì¡°íšŒìˆ˜ -->
  <div class="mt-6 flex flex-wrap gap-3 text-sm text-gray-400">
    <span>ğŸ•’ {{ faq.created_at|date:"Y-m-d" }}</span>
    <span>ğŸ‘ï¸ {{ faq.view_count }}íšŒ</span>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const buttons = document.querySelectorAll('.faq-toggle-icon');
    buttons.forEach(button => {
      button.addEventListener('click', () => {
        const answer = button.closest('.faq-card').querySelector('.faq-answer');
        answer.classList.toggle('hidden');
      });
    });
  });
</script>
