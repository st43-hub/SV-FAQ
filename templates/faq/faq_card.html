{% load static %}

{# ğŸ“¦ FAQ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ - ìµœì í™” ë° scrollHeight ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ ë¦¬íŒ©í„°ë§ ì™„ë£Œ #}
<div class="faq-card-js bg-gray-800 rounded-md border border-gray-600 text-white mb-6 transition-colors">
  <div class="faq-summary-js cursor-pointer select-none px-4 py-3 border-b border-gray-600">
    <div class="flex justify-between items-start">
      <!-- ì¢Œì¸¡: ì¹´í…Œê³ ë¦¬/êµ¬ì—­ + ì§ˆë¬¸ -->
      <div class="flex flex-col gap-1">
        <div class="flex gap-3 text-sm text-gray-400">
          <span>ğŸ“‚ {{ faq.category }}</span>
          <span>ğŸ“ {{ faq.area }}</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="faq-toggle-icon text-white">â–¶</span>
          <h3 class="text-base font-semibold">Q. {{ faq.question }}</h3>
        </div>
      </div>

      <!-- ìš°ì¸¡: ì¦ê²¨ì°¾ê¸° + ìˆ˜ì •/ì‚­ì œ ë²„íŠ¼ -->
      <div class="flex items-center gap-2">
        <span title="ì¦ê²¨ì°¾ê¸°" class="text-yellow-400 text-lg">
          {% if faq.is_favorite %}â˜…{% else %}â˜†{% endif %}
        </span>
        {% if user.is_authenticated %}
        <a href="{% url 'faq:edit_faq' faq.id %}?{{ request.GET.urlencode }}" title="ìˆ˜ì •" class="text-gray-300 hover:text-white text-base">âœï¸</a>
        <form method="post" action="{% url 'faq:delete_faq' faq.id %}?{{ request.GET.urlencode }}" class="inline">
          {% csrf_token %}
          <button type="submit" title="ì‚­ì œ" class="text-red-500 hover:text-red-600 text-base">ğŸ—‘ï¸</button>
        </form>
        {% endif %}
      </div>
    </div>
  </div>

  <!-- í¼ì³ì§€ëŠ” ë‹µë³€ ì˜ì—­ -->
  <div class="faq-answer-js overflow-hidden opacity-0 px-4 py-3 text-sm"
       style="height: 0; transition: height 0.3s ease, opacity 0.3s ease;" data-open="false">
    <div>
      <p class="leading-relaxed">{{ faq.answer|safe }}</p>
      {% if faq.image %}
      <div class="mt-4">
        <img src="{{ faq.image.url }}" alt="FAQ ì´ë¯¸ì§€" class="max-w-full rounded">
      </div>
      {% endif %}

      <!-- ìƒì„±ì¼ì, ì¡°íšŒìˆ˜ -->
      <div class="mt-4 flex flex-wrap gap-4 text-xs text-gray-400">
        <span>ğŸ•’ {{ faq.created_at|date:"Y-m-d" }}</span>
        <span>ğŸ‘ï¸ {{ faq.view_count }}íšŒ</span>
      </div>
    </div>
  </div>
</div>